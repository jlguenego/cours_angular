function build_hash(a){for(var b={},c=0;c<a.content.length;c++)b[a.content[c].path]=a.content[c].title;return b[a.path]=a.title,b.cours="Cours",b}function setSidebarHeight(){var a=$(window).height(),b=a-88,c=$(window).scrollTop()+a,d=$("footer").offset().top;c>d&&(b-=c-d),$(".my-sidebar").height(b)}function fixXsMenu(){$("header ul a:not(.dropdown-toogle)").click(function(){$("#menu-xs-button").is(":visible")&&$("#menu-xs-button").click()})}function fixHeaderHeight(){var a=$(".header_breadcrumb").css("height");$(".container-fluid").css("padding-top",a)}"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return 0==this.indexOf(a)}),function(){angular.module("myUtilities",[]);var a,b=angular.module("angular_cours_app",["ngRoute","my_layout","myUtilities"]);b.directive("onFinishRender",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit(d.onFinishRender)})}}}]),b.controller("MyAppController",["$scope","$http","$location","$anchorScroll","$timeout",function(b,c,d,e,f){b.chapter_previous=void 0,b.chapter_next=void 0,b.breadcrumb=void 0,b.location=d,b.update_breadcrumb=function(){b.breadcrumb=d.path().split("/").slice(1)},b.manage_nav_buttons=function(){var a=b.map.content.map(function(a){return a.path}),c=b.breadcrumb.slice(0),d=c.pop(),e=a.indexOf(d);if(b.chapter_previous=void 0,e>0){var f=c.slice(0);f.push(a[e-1]),b.chapter_previous="#/"+f.join("/")}if(b.chapter_next=void 0,e<a.length-1){var f=c.slice(0);f.push(a[e+1]),b.chapter_next="#/"+f.join("/")}},b.$on("$routeChangeStart",function(){b.update_breadcrumb()}),b.getData=function(a){b.map={},c.get(a).success(function(a){b.map=a,b.hash=build_hash(a),b.manage_nav_buttons()}).error(function(){d.path("/cours")})},b.now=new Date,a=b,b.window=window,b.breadcrumb_href=function(a){return b.breadcrumb.slice(0,a+1).join("/")},b.$on("fix-menu",function(){fixXsMenu()}),c.get("data/cours.json").success(function(a){b.cours=a}).error(function(){alert("Cannot find cours...")}),b.scrollTo=function(a,b){d.path(a),f(function(){b?(d.hash(b),e()):$(window).scrollTop(0)})}}]),b.config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!0),a.when("/",{templateUrl:"partials/cover.html"}).when("/cours",{templateUrl:"partials/lesson_list.html",controller:"LessonController"}).when("/cours/:lesson",{templateUrl:"partials/chapter_list.html",controller:"ChapterController"}).when("/cours/:lesson/:chapter",{templateUrl:"partials/lesson_content.html",controller:"ChapterController"}).when("/:anchor",{templateUrl:"partials/cover.html",controller:["$scope","$routeParams",function(a,b){a.location.path("/"),a.scrollTo("/",b.anchor)}]}).otherwise({redirectTo:"/"})}])}(),function(){var a=angular.module("my_layout",[]);a.directive("myHeader",function(){return{restrict:"E",templateUrl:"partials/my_header.html"}}),a.directive("mySidebar",function(){return{restrict:"E",templateUrl:"partials/my_sidebar.html"}}),a.directive("myContent",function(){return{restrict:"E",templateUrl:"partials/my_content.html"}}),a.directive("myFooter",function(){return{restrict:"E",templateUrl:"partials/my_footer.html"}}),a.directive("myButtonNav",function(){return{restrict:"E",templateUrl:"partials/my_button_nav.html"}}),a.controller("ChapterController",["$scope","$http","$routeParams",function(a,b,c){a.chapterPath="data/"+c.lesson+"/"+c.chapter+".html",a.getData("data/"+c.lesson+".json"),console.log(a.location.path()),console.log(a.location.hash())}]),a.controller("LessonController",["$scope","$http","$routeParams",function(a){a.getData("data/cours.json")}])}(),function(){$(window).resize(function(){setSidebarHeight(),fixHeaderHeight()}),$(window).scroll(setSidebarHeight)}();
//# sourceMappingURL=cours_angular.min.map